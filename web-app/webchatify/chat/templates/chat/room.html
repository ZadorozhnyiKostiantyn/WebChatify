{% extends 'chat/layout.html' %}

{% block list_chat_rooms %}
{% for chat_room in chat_rooms %}
{% if chat_room.id == room.id %}
<div class="chatButton active" data-name="{{ chat_room.name }}" data-id="{{ chat_room.id }}">
    {% else %}
    <div class="chatButton" data-name="{{ chat_room.name }}" data-id="{{ chat_room.id }}">
        {% endif %}
        <div class="chatInfo">
            <div class="image">
                {% if chat_room.photo.url is not none %}
                <img src="{{ chat_room.photo.url }}" alt="">
                {% else %}
                <img src="https://cdn-icons-png.flaticon.com/128/839/839627.png" alt="">
                {% endif %}
            </div>
            <div class="textInfo">
                <p class="name">
                    {{ chat_room.name }}
                </p>

                <p class="message">Message...</p>
            </div>
        </div>

        <div class="status onTop">
            <p class="date">00:02</p>
            <p class="count">10</p>
            <i class="material-icons read">done_all</i>
        </div>
    </div>
    {% endfor %}
    {% endblock %}

    {% block room %}
    <div class="topBar">
        <div class="rightSide">
            <button class="tbButton search">
                <i class="material-icons">&#xE8B6;</i>
            </button>
            <button class="tbButton otherOptions">
                <i class="material-icons">more_vert</i>
            </button>
        </div>

        <div class="leftSide">
            <div class="image">
                {% if room.photo.url is not none %}
                <img class="image" src="{{ room.photo.url }}" alt="{{chat}}">
                {% else %}
                <img class="image" src="https://cdn-icons-png.flaticon.com/128/839/839627.png" alt="">
                {% endif %}

            </div>
            <div class="chatName">
                <p>{{ room.name }}</p>
            </div>

        </div>
    </div>

    <div class="convHistory userBg" id="chat-log">

    </div>

    <button class="scrollButton" id="scroll-down-button">
        <span class="material-icons">keyboard_arrow_down</span>
    </button>

    <div class="replyBar">
        <button class="attach">
            <i class="material-icons d45">attach_file</i>
        </button>

        <input type="text" class="replyMessage" id="chat-message-input" placeholder="Type your message..." required/>

        <div class="emojiBar">
            <div class="emoticonType">
                <button id="panelEmoji">Emoji</button>
            </div>

            <!-- Emoji panel -->
            <div class="emojiList">
                <!--first row-->
                <button id="smileFace" class="pick">ğŸ˜€</button>
                <button id="beamingFace" class="pick">ğŸ˜</button>
                <button id="laugingWithTears" class="pick">ğŸ˜‚</button>
                <button id="rofl" class="pick">ğŸ¤£</button>
                <button id="somFace" class="pick">ğŸ˜„</button>
                <button id="swfFace" class="pick">ğŸ˜…</button>
                <button id="grinningFace" class="pick">ğŸ˜†</button>
                <button id="ğŸ™ƒ" class="pick">ğŸ™ƒ</button>

                <!--second row-->
                <button id="winkingFace" class="pick">ğŸ˜‰</button>
                <button id="smilingFaceWithSmilingEyes" class="pick">ğŸ˜Š</button>
                <button id="smilingFaceWithHalo" class="pick">ğŸ˜‡</button>
                <button id="smilingFaceWithSunglasses" class="pick">ğŸ˜</button>
                <button id="faceWithMonocle" class="pick">ğŸ§</button>
                <button id="partyingFace" class="pick">ğŸ¥³</button>
                <button id="smilingFaceWithHearts" class="pick">ğŸ¥°</button>
                <button id="smilingFaceWithHeartEyes" class="pick">ğŸ˜</button>

                <!--third row-->
                <button id="star-struck" class="pick">ğŸ¤©</button>
                <button id="faceBlowingKiss" class="pick">ğŸ˜˜</button>
                <button id="winkingFaceWithTongue" class="pick">ğŸ˜œ</button>
                <button id="squintingFaceWithTongue" class="pick">ğŸ˜</button>
                <button id="moneyFaceWithMoneyTongue" class="pick">ğŸ¤‘</button>
                <button id="hugs" class="pick">ğŸ¤—</button>
                <button id="thinkingFace" class="pick">ğŸ¤”</button>
                <button id="neutralFace" class="pick">ğŸ˜</button>

                <!--third row-->
                <button id="expressionlessFace" class="pick">ğŸ˜‘</button>
                <button id="smirkingFace" class="pick">ğŸ˜</button>
                <button id="unamusedFace" class="pick">ğŸ˜’</button>
                <button id="faceWithRollingEyes" class="pick">ğŸ™„</button>
                <button id="grimacingFace" class="pick">ğŸ˜¬</button>
                <button id="faceWithThermometer" class="pick">ğŸ¤’</button>
                <button id="hotFace" class="pick">ğŸ¥µ</button>
                <button id="slightlyFrowningFace" class="pick">ğŸ™</button>

                <!--fourh row-->
                <button id="Begging face" class="pick">ğŸ¥º</button>
                <button id="Loudly crying face" class="pick">ğŸ˜­</button>
                <button id="Downcast face with sweat" class="pick">ğŸ˜“</button>
                <button id="Pouting face" class="pick">ğŸ˜¡</button>
                <button id="Pile of poo" class="pick">ğŸ’©</button>
                <button id="Sparking heart" class="pick">ğŸ’–</button>
                <button id="Hundred(correct)" class="pick">ğŸ’¯</button>
                <button id="Sweat droplets" class="pick">ğŸ’¦</button>

                <!--fifth row-->
                <button id="Waving hand" class="pick">ğŸ‘‹</button>
                <button id="Raised hand" class="pick">âœ‹</button>
                <button id="ok" class="pick">ğŸ‘Œ</button>
                <button id="Victory hand" class="pick">âœŒ</button>
                <button id="Call me hand" class="pick">ğŸ¤™</button>
                <button id="Index finger pointing right" class="pick">ğŸ‘‰</button>
                <button id="Index finger pointing left" class="pick">ğŸ‘ˆ</button>
                <button id="Thumbs up" class="pick">ğŸ‘</button>

                <!--sixth row-->
                <button id="Thumbs down" class="pick">ğŸ‘</button>
                <button id="Clapping hands" class="pick">ğŸ‘</button>
                <button id="	Praying hands" class="pick">ğŸ™</button>
                <button id="Writing hands" class="pick">âœ</button>
                <button id="Nail polish" class="pick">ğŸ’…</button>
                <button id="Flexed biceps" class="pick">ğŸ’ª</button>
                <button id="Eyes" class="pick">ğŸ‘€</button>
                <button id="UkraineFlag" class="pick">ğŸ‡ºğŸ‡¦</button>
            </div>
        </div>

        <div class="otherTools">
            <button class="toolButtons emoji">
                <i class="material-symbols-outlined">add_reaction</i>
            </button>

            <button id="chat-message-submit" class="toolButtons send">
                <i class="material-symbols-outlined">send</i>
            </button>
        </div>
    </div>
    {% endblock %}

    {% block script %}
    {% load static %}
    <script type="module" src="{% static 'chat/js/settings.js' %}"></script>
    <script type="module" src="{% static 'chat/js/websocket.js' %}"></script>
    <script type="text/javascript">
        var roomName = "{{ room.name }}";
        var room_id = "{{ room.id }}"
        var username = "{{ username }}";
    </script>
    <script type="module" src="{% static 'chat/js/room.js' %}"></script>
    {% endblock %}